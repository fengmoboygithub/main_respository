(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3664a37c"],{"7ed4":function(e,t,o){"use strict";var a=o("a026"),n=new a["default"];t["a"]=n},a00f:function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"crumbs"},[o("el-breadcrumb",{attrs:{separator:"/"}},[o("el-breadcrumb-item",[o("i",{staticClass:"el-icon-lx-cascades"}),e._v(" 新增项目\n            ")])],1)],1),o("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":e.activeIndex,mode:"horizontal","background-color":"#EFEFEF","text-color":"#9D9D9D","active-text-color":"#74B4F8"},on:{select:e.handleSelect}},[o("el-menu-item",{attrs:{index:"1"}},[o("i",{staticClass:"el-icon-menu"}),e._v("项目基本信息")]),o("el-menu-item",{attrs:{index:"2"}},[o("i",{staticClass:"el-icon-user-solid"}),e._v("项目人员信息")])],1),o("div",{staticClass:"container"},[o("div",{staticClass:"content-title"},[e._v(e._s(e.contentTitle))]),o("div",{staticClass:"form-box"},[o("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[e.showBase?o("el-form-item",{attrs:{label:"项目名称"}},[o("el-input",{model:{value:e.form.projectname,callback:function(t){e.$set(e.form,"projectname",t)},expression:"form.projectname"}})],1):e._e(),e.showBase?o("el-form-item",{attrs:{label:"项目编号"}},[o("el-input",{model:{value:e.form.projectno,callback:function(t){e.$set(e.form,"projectno",t)},expression:"form.projectno"}})],1):e._e(),e.showBase?o("el-form-item",{attrs:{label:"项目类型"}},[o("el-select",{on:{change:e.handleProjectTypeChange},model:{value:e.form.projecttype,callback:function(t){e.$set(e.form,"projecttype",t)},expression:"form.projecttype"}},e._l(e.projectTypeOptions,(function(e){return o("el-option",{key:e.id,attrs:{label:e.typename,value:e.id}})})),1)],1):e._e(),e.showBase?o("el-form-item",{attrs:{label:"项目阶段"}},[o("el-select",{attrs:{disabled:""},model:{value:e.form.stage,callback:function(t){e.$set(e.form,"stage",t)},expression:"form.stage"}},e._l(e.projectStageOptions,(function(e){return o("el-option",{key:e.projectstage,attrs:{label:e.stagename,value:e.projectstage}})})),1)],1):e._e(),e.showBase?o("el-form-item",{attrs:{label:"项目时间"}},[o("el-col",{attrs:{span:11}},[o("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择开始日期","value-format":"yyyy-MM-dd"},model:{value:e.form.begindate,callback:function(t){e.$set(e.form,"begindate",t)},expression:"form.begindate"}})],1),o("el-col",{staticClass:"line",attrs:{span:2}},[e._v("-")]),o("el-col",{attrs:{span:11}},[o("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择结束日期","value-format":"yyyy-MM-dd"},model:{value:e.form.enddate,callback:function(t){e.$set(e.form,"enddate",t)},expression:"form.enddate"}})],1)],1):e._e(),e.showPersonnel?o("el-form-item",{attrs:{label:"项目经理"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.projectmanager,callback:function(t){e.$set(e.form,"projectmanager",t)},expression:"form.projectmanager"}},e._l(e.projectManagers,(function(e){return o("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1):e._e(),e.showPersonnel?o("el-form-item",{attrs:{label:"项目成员"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.personnel,callback:function(t){e.$set(e.form,"personnel",t)},expression:"form.personnel"}},e._l(e.personnels,(function(e){return o("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1):e._e(),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存")]),o("el-button",{on:{click:e.onCancel}},[e._v("取消")])],1)],1)],1)])],1)},n=[],s=o("7ed4"),r={name:"projectManagementAdd",data:function(){return{activeIndex:"1",contentTitle:"项目基本信息",showBase:!0,showPersonnel:!1,form:{projectname:"",projectno:"",projecttype:"",stage:"",begindate:"",enddate:"",projectmanager:"",personnel:""},projectManagers:[{id:"1",name:"测试经理1"},{id:"2",name:"测试经理2"}],personnels:[{id:"1",name:"项目成员1"},{id:"2",name:"项目成员2"}],projectTypeOptions:[],projectStageOptions:[]}},created:function(){this.getInitData()},methods:{handleSelect:function(e,t){"1"==e[0]?(this.showBase=!0,this.showPersonnel=!1,this.contentTitle="项目基本信息"):(this.showBase=!1,this.showPersonnel=!0,this.contentTitle="项目人员信息")},getInitData:function(){var e=this;this.net.getListByPage_ProjectTypeInfo({currentPage:1,itemsPerPage:100}).then((function(t){console.log(t),e.projectTypeOptions=t.data}))},handleProjectTypeChange:function(e){var t=this;this.projectStageOptions=[],this.net.getListByMin_ProjectStageInfo({projecttype:e}).then((function(e){console.log(e),t.projectStageOptions=e.list,t.form.stage=t.projectStageOptions[0].projectstage}))},onSubmit:function(){var e=this;this.net.add_ProjectInfo(this.form).then((function(t){console.log(t),t.success?(s["a"].$emit("addProject_Evt"),s["a"].$emit("close_current_tags"),e.$router.push({path:"/projectManagementSelect"})):e.$message.error("保存失败！")}))},onCancel:function(){s["a"].$emit("close_current_tags"),this.$router.push({path:"/projectManagementSelect"})}}},l=r,c=o("2877"),i=Object(c["a"])(l,a,n,!1,null,"a78c0016",null);t["default"]=i.exports}}]);