(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4350f55c"],{"7ed4":function(e,t,a){"use strict";var n=a("a026"),r=new n["default"];t["a"]=r},"9b18":function(e,t,a){"use strict";var n=a("f869"),r=a.n(n);r.a},e6ae:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-cascades"}),e._v(" 项目底稿管理\n            ")])],1)],1),a("div",{staticClass:"container"},[a("div",{staticClass:"handle-box"},[a("el-row",{attrs:{type:"flex"}},[a("el-col",{attrs:{span:2}},[a("div",{staticStyle:{float:"left"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.handleAdd}},[e._v("新增")])],1)]),a("el-col",{attrs:{span:4}},[a("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"项目名称"},model:{value:e.query.projectName,callback:function(t){e.$set(e.query,"projectName",t)},expression:"query.projectName"}})],1),a("el-col",{attrs:{span:4}},[a("el-select",{staticClass:"handle-input mr10",attrs:{placeholder:"项目类型"},on:{change:e.handleProjectTypeChange},model:{value:e.query.projectType,callback:function(t){e.$set(e.query,"projectType",t)},expression:"query.projectType"}},e._l(e.projectTypeOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.typename,value:e.id}})})),1)],1),a("el-col",{attrs:{span:4}},[a("el-select",{staticClass:"handle-input mr10",attrs:{placeholder:"项目阶段"},model:{value:e.query.projectStage,callback:function(t){e.$set(e.query,"projectStage",t)},expression:"query.projectStage"}},e._l(e.projectStageOptions,(function(e){return a("el-option",{key:e.projectstage,attrs:{label:e.stagename,value:e.projectstage}})})),1)],1),a("el-col",{attrs:{span:3}},[a("el-date-picker",{staticClass:"handle-input mr10",attrs:{type:"date",placeholder:"开始时间"},model:{value:e.query.beginDate,callback:function(t){e.$set(e.query,"beginDate",t)},expression:"query.beginDate"}})],1),a("el-col",{attrs:{span:3}},[a("el-date-picker",{staticClass:"handle-input mr10",attrs:{type:"date",placeholder:"结束时间"},model:{value:e.query.endDate,callback:function(t){e.$set(e.query,"endDate",t)},expression:"query.endDate"}})],1),a("el-col",{attrs:{span:4}},[a("div",{staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleSearch}},[e._v("搜索")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-delete"},on:{click:e.handleReset}},[e._v("重置")])],1)])],1)],1),a("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.tableData,border:"","header-cell-class-name":"table-header"}},[a("el-table-column",{attrs:{prop:"projectname",label:"项目名称"}}),a("el-table-column",{attrs:{prop:"projectno",label:"项目编号"}}),a("el-table-column",{attrs:{prop:"projecttypename",label:"项目类型"}}),a("el-table-column",{attrs:{prop:"stagename",label:"项目阶段"}}),a("el-table-column",{attrs:{prop:"begindate",label:"开始时间"}}),a("el-table-column",{attrs:{prop:"enddate",label:"结束时间"}}),a("el-table-column",{attrs:{label:"操作",width:"250",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"lookup-me",attrs:{type:"text",icon:"el-icon-tickets"},on:{click:function(a){return e.handleLookup(t.$index,t.row)}}},[e._v("查看项目")]),a("el-button",{staticClass:"edit-me",attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑项目")]),a("el-button",{staticClass:"view-me",attrs:{type:"text",icon:"el-icon-view"},on:{click:function(a){return e.handleView(t.$index,t.row)}}},[e._v("查看底稿")]),a("el-button",{staticClass:"examine-me",attrs:{type:"text",icon:"el-icon-people"},on:{click:function(a){return e.handleExamine(t.$index,t.row)}}},[e._v("审核底稿")]),a("el-button",{staticClass:"upload-me",attrs:{type:"text",icon:"el-icon-upload"},on:{click:function(a){return e.handleUpload(t.$index,t.row)}}},[e._v("上传底稿")]),a("el-button",{staticClass:"file-me",attrs:{type:"text",icon:"el-icon-file"},on:{click:function(a){return e.handleFile(t.$index,t.row)}}},[e._v("归档")]),a("el-button",{staticClass:"export-me",attrs:{type:"text",icon:"el-icon-forward"},on:{click:function(a){return e.handleExport(t.$index,t.row)}}},[e._v("导出报送文件")])]}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":e.query.currentPage,"page-size":e.query.itemsPerPage,total:e.pageTotal},on:{"current-change":e.handlePageChange}})],1)],1)])},r=[],o=a("7ed4"),l={name:"projectManagementSelect",data:function(){return{query:{projectName:"",projectType:"",projectStage:"",beginDate:"",endDate:"",currentPage:1,itemsPerPage:10},tableData:[],projectTypeOptions:[],projectStageOptions:[],multipleSelection:[],delList:[],pageTotal:0,form:{},idx:-1,id:-1}},created:function(){this.getInitData(),this.getData()},methods:{getInitData:function(){var e=this;this.net.getListByPage_ProjectTypeInfo({currentPage:1,itemsPerPage:100}).then((function(t){console.log(t),e.projectTypeOptions=t.data}))},handleProjectTypeChange:function(e){var t=this;this.projectStageOptions=[],this.net.getListByPage_ProjectStageInfo({currentPage:1,itemsPerPage:100,projecttype:e}).then((function(e){console.log(e),t.projectStageOptions=e.data}))},getData:function(){var e=this;this.net.getListByPage_ProjectInfo(this.query).then((function(t){console.log(t),e.tableData=t.data,e.pageTotal=t.recordsTotal||0}))},handleSearch:function(){this.getData()},handleReset:function(){this.query.projectName="",this.query.projectType="",this.query.projectStage="",this.query.beginDate="",this.query.endDate=""},handleAdd:function(){var e=this;this.$router.push({path:"/projectManagementAdd"});var t=this;o["a"].$on("addProject_Evt",(function(){t.$message.success("新增成功"),e.getData()}))},handleLookup:function(e,t){var a=this;a.idx=e,a.form=t;var n={id:t.id};this.$router.push({path:"/projectManagementLookup",query:n})},handleEdit:function(e,t){var a=this,n=this;n.idx=e,n.form=t;var r={id:t.id};this.$router.push({path:"/projectManagementUpdate",query:r}),o["a"].$on("editProject_Evt",(function(){n.$message.success("编辑成功"),a.getData()}))},handleView:function(e,t){var a=this;a.idx=e,a.form=t;var n={id:t.id,projectStage:t.stage};this.$router.push({path:"/projectManagementView",query:n})},handleExamine:function(e,t){var a=this;a.idx=e,a.form=t;var n={id:t.id,projectStage:t.stage};this.$router.push({path:"/projectManagementUpload",query:n})},handleUpload:function(e,t){var a=this;a.idx=e,a.form=t;var n={id:t.id,projectStage:t.stage};this.$router.push({path:"/projectManagementUpload",query:n})},handleFile:function(e,t){var a=this;a.idx=e,a.form=t;t.id;console.log("归档:"+e+t)},handleExport:function(e,t){var a=this;a.idx=e,a.form=t;var n={id:t.id,projectStage:t.stage};this.$router.push({path:"/projectManagementExport",query:n}),console.log("导出报送文件:"+e+t)},handlePageChange:function(e){this.getData()}}},i=l,c=(a("9b18"),a("2877")),s=Object(c["a"])(i,n,r,!1,null,"05f1cd93",null);t["default"]=s.exports},f869:function(e,t,a){}}]);